<Project TreatAsLocalProperty="TaskFolder;TaskAssembly">
    <PropertyGroup>
        <TaskFolder Condition=" '$(MSBuildRuntimeType)' == 'Core' ">netstandard1.6</TaskFolder>
        <TaskFolder Condition=" '$(MSBuildRuntimeType)' != 'Core' ">net46</TaskFolder>
        <TaskAssembly>$(MSBuildThisFileDirectory)..\tasks\$(TaskFolder)\DafnyMSBuildTasks.dll</TaskAssembly>

        <Dafny Condition="'$(OS)' == 'Windows_NT'">$(MSBuildThisFileDirectory)../../../Binaries/Dafny.exe</Dafny>
        <Dafny Condition="'$(OS)' != 'Windows_NT'">$(MSBuildThisFileDirectory)../../../Binaries/dafny</Dafny>

        <!-- 
        TODO: This is to avoid lots of warnings from the Dafny-generated code
        for things like unused variables and unreachable code. It's unfortunate
        that we then won't get these warnings for hand-written C# code either, though.
        We should at least find a way to share this list definition with the
        Dafny-to-C# compiler.
         -->
        <NoWarn>0164;0219;1717;0162;0168</NoWarn>

        <DafnyOutputFile>DafnyMain.cs</DafnyOutputFile>
    </PropertyGroup>

    <ItemGroup>
        <DafnySource Include="**/*.dfy" />
    </ItemGroup>
</Project>